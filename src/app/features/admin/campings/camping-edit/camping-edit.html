<div class="max-w-4xl mx-auto p-4 animate-in fade-in slide-in-from-bottom-4 duration-500">
  @if (isInitialLoading()) {
    <div class="flex justify-center items-center h-96 bg-white rounded-2xl shadow-sm border border-gray-100">
      <div class="w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"></div>
      <p class="text-gray-500 font-medium animate-pulse">Cargando datos...</p>
    </div>
  } @else {
    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
      <div class="p-8 border-b border-gray-100 bg-gray-50/50  flex justify-between items-center">
        <h2>
          <h2 class="text-xl font-bold text-gray-800">Editar Entrada al Camping</h2>
          <p class="text-sm text-gray-500">ID: {{ camping()?.id }}</p>
        </h2>
        <a routerLink="/admin/campings"
           class="text-sm font-medium text-purple-600 hover:text-purple-800 flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
          </svg>
          Volver al listado
        </a>
      </div>

      <form [formGroup]="campingForm" (ngSubmit)="onSubmit()" class="p-8 space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

          <div class="flex flex-col gap-2">
            <label class="block text-sm font-medium text-gray-700">Nombre</label>
            <input type="text" formControlName="firstName"
                   class="w-full mt-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all outline-none">
          </div>

          <div class="flex flex-col gap-2">
            <label class="block text-sm font-medium text-gray-700">Apellidos</label>
            <input type="text" formControlName="lastName"
                   class="w-full mt-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all outline-none">
          </div>

          <div class="flex flex-col gap-2">
            <label class="block text-sm font-medium text-gray-700">Tipo de Documento</label>
            <select formControlName="documentType"
                    class="w-full mt-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all outline-none">
              <option value="">Seleccione...</option>
              @for (type of documentTypes; track type) {
                <option [value]="type">{{ type }}</option>
              }
            </select>
          </div>

          <div class="flex flex-col gap-2">
            <label class="block text-sm font-medium text-gray-700">Nº Documento</label>
            <input type="text" formControlName="documentNumber"
                   class="w-full mt-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all outline-none">
          </div>

          <div class="flex flex-col gap-2">
            <label class="block text-sm font-medium text-gray-700">Fecha de Nacimiento</label>
            <input type="date" formControlName="birthDate"
                   class="w-full mt-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all outline-none">
          </div>

          <div class="flex flex-col gap-2">
            <label class="block text-sm font-medium text-gray-700">Categoría de Camping</label>
            <select formControlName="campingTypeId"
                    class="w-full mt-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all outline-none">
              <option [ngValue]="null">Seleccione categoría...</option>
              @for (type of campingTypes(); track type.id) {
                <option [value]="type.id">{{ type.name }} ({{ type.price }}€)</option>
              }
            </select>
          </div>
        </div>

        <div class="pt-6 border-t border-gray-100 flex justify-end gap-3">
          <button type="button" routerLink="/admin/campings"
                  class="px-8 py-3 text-gray-500 font-bold hover:bg-gray-100 rounded-2xl transition-all cursor-pointer">
            Descartar
          </button>
          <button type="submit" [disabled]="campingForm.invalid || isLoading()"
                  class="px-10 py-3 bg-slate-900 text-white rounded-2xl font-bold hover:bg-purple-600 shadow-xl transition-all disabled:opacity-50 cursor-pointer flex items-center gap-2">
            @if (isLoading()) {
              <span class="w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"></span>
            }
            Guardar Cambios
          </button>
        </div>
      </form>
    </div>
  }
</div>
