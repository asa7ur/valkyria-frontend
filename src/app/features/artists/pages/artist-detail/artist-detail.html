<div class="min-h-screen bg-black text-white pt-32 pb-20 px-6">
  @if (loading()) {
    <div class="flex justify-center items-center h-64">
      <div class="animate-pulse text-red-600 font-black tracking-widest uppercase text-center">
        Loading Profile...
      </div>
    </div>
  } @else if (artist(); as a) {
    <div class="max-w-7xl mx-auto">

      <div class="flex justify-between items-center mb-12 border-b border-white/10 pb-6">
        <button (click)="goBack()"
                class="text-xs font-bold uppercase tracking-[0.3em] hover:text-red-600 transition-colors flex items-center gap-2">
          <span class="text-xl">←</span> BACK
        </button>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-12 gap-16">
        <div class="lg:col-span-7">
          <h1 class="text-7xl md:text-9xl font-black uppercase tracking-tighter leading-none mb-8">
            {{ a.name }}
          </h1>

          <div class="flex flex-col gap-4 mb-12">
            <div class="text-red-600 font-bold uppercase tracking-[0.2em] text-sm">
              {{ a.genre }} . {{ a.country }}
            </div>

            @if (a.performances && a.performances.length > 0) {
              <div class="text-white font-bold uppercase tracking-widest text-xl">
                {{ a.performances[0].stage.name }} <br>
                <span class="text-gray-500">{{ a.performances[0].startTime | date:'EEEE d MMMM' | uppercase }}</span>
              </div>
            }

            <div class="flex gap-4 mt-2">
              @if (a.instagramUrl) {
                <a [href]="a.instagramUrl" target="_blank" class="text-gray-500 hover:text-white transition-colors">
                  <i class="bi bi-instagram text-xl"></i>
                </a>
              }
              @if (a.youtubeUrl) {
                <a [href]="a.youtubeUrl" target="_blank" class="text-gray-500 hover:text-white transition-colors">
                  <i class="bi bi-youtube text-xl"></i>
                </a>
              }
            </div>
          </div>

          <p class="text-gray-300 leading-relaxed text-lg text-justify font-light mb-12">
            {{ a.description }}
          </p>

          @if (a.spotifyUrl) {
            <div class="mb-12 border border-white/10 rounded-xl overflow-hidden">
              <iframe [src]="getSafeSpotifyUrl(a.spotifyUrl)" width="100%" height="152" frameBorder="0"
                      style="border-radius:12px"
                      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                      loading="lazy"></iframe>
            </div>
          }

          <div class="p-6 border border-white/10 flex items-center gap-4 bg-white/5">
            <button class="w-10 h-10 rounded-full bg-white text-black flex items-center justify-center font-bold">▶
            </button>
            <div class="flex-1 h-1 bg-gray-800 relative">
              <div class="absolute top-0 left-0 h-full w-1/3 bg-red-600"></div>
            </div>
            <span class="text-xs font-mono">0:00 / 5:50</span>
          </div>
        </div>

        <div class="lg:col-span-5 flex flex-col gap-8">
          <img [src]="a.logo" [alt]="a.name"
               class="w-full aspect-4/5 object-cover grayscale hover:grayscale-0 transition-all duration-1000 border border-white/10">

          <div class="grid grid-cols-2 gap-4">
            @for (img of a.images; track img.id) {
              <img [src]="img.imageUrl"
                   class="aspect-square object-cover opacity-50 hover:opacity-100 transition-opacity border border-white/5">
            }
          </div>
        </div>
      </div>
    </div>
  }
</div>
